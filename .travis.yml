sudo: false
language: java
jdk:
- oraclejdk8
branches:
  except:
  - master
env:
  global:
  - secure: d8PvENw4j6pSbdV41t5ejB6xQX8SBBd4nM1LhxfuNBfk5WEXB9SYa9cm0xjldNnBOawYCUAGRtxB+pTIcIGj0n8KyWKzyQZ9xPUVYaLASDk1bLcVklNM4rI/5IozGU+T/zcFT0USiuQHRgKPOC+0fXjDE1iGIeSYtJAlwcLxSURtIpjEVjCJBfMhsHX7UBsKnGLOcKBDfpbkZw/zIrNUXqyiU8a/H42H7kMt7s5uOGXvoS2fPg4+a5Pf+FHJnK/W0ddtISHXnPmO6BHNUF2O8bNqDTXBYznnrA5iDA/L5U37ON6s+BVXz1wrqBweLMsEbaMLcTAWdlmKb1fN2K88vhtb0pVwQwglYzv3/bdZk49s7o/BipcF9a1dZyrIkQOPiTNrg+VWKoTjRfkt+TwjthuMoAdkCY8QQi6ak9xM72I65JusVEjCR9fawYdQ6OeZShsc1wJIw0BxxRPpwJGk6JLt44+j8z6D8rj8B5QbwSyZRsOFBi+PyUDzpXlpBh+LI8/AbgSPkjWq9dpNFWWdoX9HVaOd6gu7AGIBIHBthUTY9pMUt4K688hRHEy3H6XKUE+l0+W0Ry5RL7qun2O1jlrbI8UnE85rWw0BGyTo5bca06/TlQQoDYBBX3icZw5xxLUMohweUZMz8xpL/kOXhb7Rhtgf+apyqgSPOoQIfDo=
  - secure: sT/L+YdIq7Ecq2OhVqpoPUJ/jnCYuKzMAiU/41z1j0pnZlT+XkXK9Ixz5az0AhZ6rt108QJKgBag0tAbftHUkp0iiB0b4V76pR9IlaHEAWNZI4WCBNqwyGKbpYiO9Mu4LB2bAgOqJ3TfntgkMPVqlQp36d2Lrm0y1f/bTtKuzQ7g5mUUenDCph92JxVuyCdRbDPMEROaOXdJ+Cu866lYkniFa/mYG0//FJDjgG4UDjjH2hmKrRPf7I9BT4/H6IFlF//yuNuV5gTbZQ3uiKXFvmhXNcYRheGjeRJKryhtrUDBiFSlJS4YS/BsVWFXacvNioT9WCDE21Lla5tXlIti4QsRoyLe+He+4+JCKpYUV5TLuNtxlbh9xcWef2nB4hkpbGmsvXTv1JJ2R20/kFYxXBQSlFo1f80XGk7mlEdmvl0989jhDXCRwbIJzxKm6KiIDj246auTgzaKc1fpQCmGovSJHsHduSBpxiy2W8CfyH71cCBzfmbqfRCPSCjEPSJGfz87dtGhK2eAwkt3Bdy0hga0fZUbaHrc9fiwiXVtVYPPkHlhvCJZTBzJXGdanyNMj8/fYq6/s3JPJ+4PXtWaTOC8yVCG1CeYT0wDG05Fa4PBNQuFihJNwGW6ftoA6l10q0SNlr0fU91obJECmeYQ7PB8/sd5UCu7dCAestqju2s=
  - secure: M6vWYN99D0GuUJ1juRTbZJESDWZ27I5tqtAIk5fE2yfuuhd6QqMOVosnz1ab0/yfSs9l5HaXABCAtFrQE7JkmcpPwpLKyTBNwx9NzW3d0JP2g4KYf7m+lXct8cLUh3sDoxSddios0lxn9XHXHs1dxj2RMlcUhXjPsKxRqpcQsMpGsSapzPa5U1JyhkKe+YzdeiAVgy4lmYgZq0nL28h0dAIutRD62VMkjNtDAbdpIUAkXsvtoqXAlx0ASbI63EuPDD1Fb8eFWdqoZKCStw0kvmQ1NMyV3mw2mB4tM/HWwLwQweP+B0b4axciXoW9k/tMU8lSL3YkEHDFli4HsP5nbE1TqUf3hh+6gsEl8JqFDuiDQ+hzPBtR0Hs9S/Dqmnl/fCTFW4w7zS3LlCzHmOoQgBj2x0QCHGTpfMySkksImmgNGbE5xKAIY3j/sjuOKSbx3FIcTN6B8pEvzzltw/ibcnW417MMA82qfNWmM37eERwTJYrnG6r4u2hC9c8w1iV/UuH4Eprui6xBwuYSUO67m7hvz4cB6PmEND3s7ysEDABWAGOtzyWTpHtPJwQCjk+0fv1hqu1Zd4QMEoRmnkf/gXZk4P0Nf6Gd7nyPbKFL2KUu/rGx49pRmcNOJu+SsISQVLlfjBnjEiYtLsO1gkJ1Gr7OBElmUrikMoIra2ZlaLA=
  - secure: HyrvReDOkzJqmiqo55S4ZXhN/ng8a4Q4odqDBW665q2tW/f2qr+nlQISx2XfkERLczlTLu3R0uw0UrwuE4nFjX8xRCMsKEeh1FNB2/+Ch3Haj9VJgVwT5irYv3MyLlwWhTUxRbXV7TFPIGgQWAOlyXh9Zus7qPP224SK9DqfGbaDqTKoyzatvMxwhj1N1fle9a0SOILOBdFB48+YgC6EGke5pJzbxVa/bX+kM415z/q0YoIBrotdDD7mFFlQ6MIfmQZA0yA0dFaUELJEfOllfrwYZrOVt3k5+GIuZqU1NrkOfh+aUE4oMSOTtNRumTa3RiUyx6sdwe2VliZ+jmdbBl/tXMHSCx+sJmuk7GrPitGoMgw+UBYFMd+duBsueWet/RwDIfy2vZKqKFbNGeCp8AXtZtB0+YkrH9yKM4hl8JVfq1O1sU424NxW/DElLe5/7X3PwCuLsVgNY1SEkPsOneFD+YSuC8yji29SdFemb9nRMFo4uefNFqgGEP9Cq8fD+ujRdqL8Dqjt6j67MGbinUG644Maqzl4Qc0SPWovIGnGzn9tvS9W0CAVd9gYq/O2tZtNqVoOf9MbR+UlIAH0lMdrvGR+PzIs0XkVCACFyflvZYBqEbxIA2xgU+XBriq8w2PDjg18txzrfR1jjox2gvrOMdBHLi1EQ5UAQb+bCew=
  - secure: RGW7srUnl8f/NCWMARJct7DpdI6o4sjTlYjQv7LZeS9vIOUQt0Cjxf0lf/VvppF7UsonIfEUMXcif/zcO/7jcerrnvkj9fWQSxjxbh1e3iIAXTtC3TPbiIv8ZfSfOKX547mwqVKW5njrncAOZmBu2LqL9clpAIYqO8bdGfGxj6Dg2e7glFEcxmwL/i9EHKh4pp9NQIvmjAZURTvw2nEzDCzHyD9+KwNnMEe78YMRtl5qE1eu5Vsum8LiYNd+fF97+7vZ93nt2FZslv8ynBXx+5aSm591Gm4K3pmI7AnPFhG+M1qKkuV8OoQD/sdJleyE9f3M6id5qsNm6kuOaRdsbXd5ltq2NijtoHG/aGqRUGGJqsjmu4UkAeZ101PkWvyaIsQzYs2UmTButlUaCGXG1iXM9XW5Tt5ornnKeLzwaWCsE1Su+Z9G53+yixCiWVj7BTC6HoM/PSchB/5jIfB4k+w7YtF64stzLeK4XvCTurUfXlovltuq/0Lj024Hdw1cEwr2OGJ9Nb5vz0ywVkkDT0DKM5zgIysPKVjbKRRU9uZ8+GKlG7cR+K+z+0ICOoipbg4dsXQGEDoYgoTX5g1xQqgzUr/ARPMosN0aqcTFuogpFGN4PFoG8gJ9YtZP3mQE5X+Kjuiyi36yr9hs3Psmy7HwZ1ESRmDUAjD7kSrEULk=
  - secure: kdUtizr0gooZY12yKk85maLfemfgw+hivXvHk1IbeJ+cb4jUy9rR8faoNWrbkjlX+Q5GvtWRoR+q/N/xKD9l+RPU5YSBa44Yct76Q9A1U3GtvVUXD3rMDcoiwt0U8k3OJ8KEcAjTI3rU2A4NfHME6L5llzydwd+/xtoAMIfW5e+S93f4KRkhAsmd9KNIb6HZsDYhi0pS0UqMEtPVc6iZxxpL5C/LGKNN2ds4Gvyo1AGVXLRMh+pOfCyV6Od8wgOdjz7YEHCWlIP/zOkFLNWZek/dwO3XjsZlCsU9E7kMByFt2XAHQyQOFzY3PbZjF+y4IMA5nYQLbOYk7LgG1UaWqnKCXjqH6Yf2xQew6UMQi/ZMshRPlmY5D3tppJ35hhwYz2F6KMqPVr/1tVSWc9yKCuxW+EbiOuhV/cgn4m5D1LJImOFYASJqMBz8G6jaTp89WJLGCOxnIRPDkzknPrwfu73ewfT1RDc1oyxd1uZdVwx9yKmmUqXZnMHb/OCg4XIA9H29WSLJGQCYXfpxnFYXX95FJRYDQlIRaF8oWb3q+Fo4IZzWcDGdUiApXT0S+94QgF37JxWz0Qy9K46El8ajRrm1C3TRBr5+SL09Vigy0xvdN9J2S5nhGjPxQ/8xt7+C6vM6R7SZifC1y4zE5jlN+ZDYo7LSN12kdnGUgjiquNg=

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
- ./cd/before-deploy.sh
- ./cd/deploy.sh
- mvn release:prepare -B --settings cd/mvnsettings.xml
- mvn release:perform -P --settings cd/mvnsettings.xml